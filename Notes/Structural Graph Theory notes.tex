\documentclass[]{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

% Commands
\newcommand{\tree}{\mathcal{T}}
\newcommand{\tw}{\text{tw}}
% Environments

\newtheorem{theorem}{Theorem}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition}
\newtheorem{example}[theorem]{Example}

\numberwithin{theorem}{section}
\numberwithin{equation}{section}

%opening
\title{Structural Graph theory}
\author{Eric Luu}

\begin{document}

\maketitle

\section{Treewidth}

\begin{definition}[Tree-decomposition]
	The tree-decomposition $\tree$ of a graph $G$ is defined as a tree $T$ with associated \textit{bags} $\lbrace B_x : x \in V(T) \rbrace$ such that:
	\begin{itemize}
		\item for all $v \in V(G)$, the subset of vertices $\lbrace x \in V(T): v \in B_x \rbrace$ in $V(T)$ induces a connected subtree in $V(T)$.
		\item For all edges $vw \in E(G)$, there exists a bag $B_x$ such that both $v$ and $w$ are in the bag $B_x$.
	\end{itemize}
\end{definition}
We refer to the vertices of the tree $T$ as \textit{nodes}. 
The \textit{width} of the tree decomposition $\tree$ is defined as $\max \lbrace |B_x| - 1 : x \in V(T) \rbrace$. We define the \textit{treewidth} of a graph $G$ as such:


\begin{definition}
	The treewidth of a graph $G$, denoted as $\tw(G)$, is defined to be the smallest width for all tree decompositions of the graph $G$.
\end{definition}
The reason why the $-1$ appears in the definition of the with of a tree decomposition is because the definition wanted the treewidth of a forest to be 1. However, this causes some notational confusion.
\begin{example}
	$\tw(G) = 1$ iff $G$ is a forest.
	\begin{lemma}
		If $G$ is a forest, then $\tw(G) = 1$.
	\end{lemma}
	\begin{proof}
		Suppose $G$ is a tree. Root the graph $G$ at the vertex $r$. Then let $T = G$ and $B_x:= \lbrace x, p \rbrace$ where $p$ is the parent of $x$. The bag $B_r$ will just contain $r$. Then all edges $vw$ will be between parent $v$ and child $w$, so it will be in bag $B_w$. Finally, the subgraph induced by vertex $x$ in $T$ will be $x$ and the children of $x$, which is a connected subtree.
		
		If $G$ is a forest, then we perform this operation on every connected component of $G$ and connect the roots to form a new tree. Then this tree is a tree-decomposition. This forms a tree-decomposition of width at most 1. 
	\end{proof}
	\begin{lemma}
		If $\tw(G) = 1$, then $G$ has no cycles.
	\end{lemma}
	\begin{proof}
		If $G$ has a cycle $C$, then the treewidth cannot be 1. This is because if there is a tree decomposition $\tree$ where the size of each bag is at most 2, then as the graph must have every edge, then every edge in $C$ is in separate bags. However, we have that for any vertex $v$ in $C$ to have an induced connected subgraph in $T$, then it follows that the cycle $C$ is also in $T$. Thus $T$ is not a tree, and this is not a valid tree-decomposition. 
	\end{proof}
\end{example}
\begin{lemma}[Helly Property]
	Let $T_1, ..., T_k$ be subtrees of a tree $T$ such that for every pair of trees, there is a vertex in common. Then there exists a vertex which is common to all trees.
\end{lemma}
\begin{proof}[Helly property]
	If $T_1$, $T_2$ and $T_3$ are subtrees of $T$ such that the vertex sets are pairwise nonempty, then there is a common vertex in all three subtrees. If this is not the case, denote $v_1$ as a vertex in the intersection of $T_1$ and $T_2$, $v_2$ as the vertex in $T_1 \cap T_3$, and $v_3$ as the vertex in $T_2$ and $T_3$. Then there exists a unique path $P$ in $T_1$ from $v_1$ to $v_2$. Choose two vertices $x$ and $y$ on $P$ such that they are disjoint....
\end{proof}

\begin{theorem}[Clique theorem]
	In any tree-decomposition of $G$, for every clique $C$ in $G$, there exists a node $x \in V(T)$ such that $C \subseteq B_x$. 
\end{theorem}

\begin{proof}
	Let $\tree$ be a tree-decomposition. Every vertex $v$ induces a connected subtree in $T$, call it $T_v$. Then for any two vertices $x, y$ in $C$, we have that $T_x$ and $T_y$ must intersect as the edge $xy$ is inside a bag $B_z$ corresponding to a node $z$. Then by the Helly property, there exists a node $v$ such that $C \subseteq B_v$.
\end{proof}

\begin{corollary}
	$\tw(K_n)$ is $n-1$. 
\end{corollary}

\begin{theorem}
	If $H$ is a minor of $G$, then $\tw(H) \leq \tw(G)$. 
\end{theorem}
\begin{proof}[Proof of minor]
	Suppose we have a tree-decomposition $\tree$ of $G$. If we delete an edge in $G$, then $\tree$ remains a valid tree-decomposition. If we delete a vertex $v$, then $\tree$ where we remove $v$ from every bag in $\tree$ is also a valid tree-decomposition. If we contract an edge $vw$, creating a new vertex $u$, then relabeling $v$ and $w$ in all bags to $u$ is a valid tree-decomposition as the induced subtree of $u$ is the union of the induced subtrees of $v$ and $w$, and every neighbor of $v$ or $w$ is a neighbor of $u$. But the edges in the neighborhood do not change. Thus this is a valid tree-decomposition, with width at most the width of $\tree$.
\end{proof}

\begin{example}
	The treewidth of an outerplanar graph is at most 2.
\end{example}
\begin{proof}[Proof of outerplanar treewidth.]
	Let $G$ be the outerplanar graph, and let $G'$ be the triangulation of $G$. As $G$ is a minor of $G'$, $\tw(G) \leq \tw(G')$. We look at the \textit{weak dual} of $G'$. This is a tree $T$, where every node $v_f$ in $T$ corresponds to a face $f$ in $G'$. Then let $B_{v_f}$ be the bag of the tree-decomposition, where $B_{v_f}$ is the set of vertices on the boundary of the face $f$. Then the tree $T$ with bags $B_{v_f}$ is a valid tree-decomposition of $G'$, where every bag has at most 3 vertices. Thus, $\tw(G) \leq 2$. 
\end{proof}

\section{Separators}
A subset $X$ of $V(G)$ is a \textit{balanced separator} of $G$ if each component of $G - X$ has at most $|V(G)|/2$ vertices. This implies that we can partition the vertices of $G$ into sets $A$ and $B$ such that there are no $AB$-edges and the size of $A$ and $B$ is at most $2/3 |V(G)|$. This is because we can order the components from smallest to largest and partition them into sets $A$ and $B$ where the sizes are at most $2/3 |V(G)|$.

\begin{theorem}
	For all graphs $G$, there exists a balanced separator of size $\tw(G) + 1$. 
\end{theorem}
\begin{proof}[Proof of balanced separator]
	We take a tree-decomposition $\tree$ of treewidth $\tw(G) - 1$. For any edge $xy$ in $T$, denote the largest subtree containing $x$ that does not contain $y$ as $T_{x,y}$, and similarly denote $T_{y, x}$ as the same thing. If the size of the union of the corresponding bags of the nodes of $T_{x,y}$ is larger than the size of the union of bags in $T_{y, x}$, orient the edge $xy$ to point from $y$ to $x$, otherwise orient it the other way. Do this for every edge. Then let $x$ be the node where all arrows are pointing inwards, and let $B_x$ be the corresponding bag. Then $B_x$ is a separator of $G$ as we have that at most $|V(G)|/2$ vertices are in any component of $T$ by definition. Thus $B_x$ is a balanced separator of $G$. 
\end{proof}

\subsection{Subset theorems}
\begin{theorem}
	For all graphs $G$, and all subsets $S$ of $V(G)$, there exists an $X$ where $|X| \leq \tw(G) + 1$ and each component of $G - X$ has $\leq |S|/2$ vertices in $S$. 
\end{theorem}
\begin{proof}
	Do the steps above but instead of weighing each vertex the same, you weigh a vertex $v$ to be 1 if it is in $S$ and 0 if it is not. 
\end{proof}

\begin{theorem}
	For all graphs $G$, and all subsets $S$ of $V(G)$, there exists  two subgraphs $G_1$ and $G_2$ such that $G = G_1 \cup G_2$ and for all $i \in \lbrace 1, 2 \rbrace$, $|S \cup V(G_i) | \leq 2/3 |S|$.
\end{theorem}
\begin{proof}
	Use the theorem above. Then we can form $G_1$ and $G_2$ to have at most $2/3 |S|$ the number of vertices in $|S|$, by sorting the subsets by the number of vertices in $S$. 
\end{proof}

\subsection{Bounds on treewidth.}
\begin{theorem}
	Let $G$ be a graph such that for all subsets $S \subseteq V(G)$ there exists another subset $x \subseteq V(G)$ such that $|X| \leq k$ and each component of $G - X$ has at most $|S|/2$ vertices in $S$. Then $\tw(G) \leq 3k$. 
\end{theorem}

\begin{lemma}
	Let $G$ be a graph such that for all subsets $S \subseteq V(G)$ of size $2k + 1$ there exists an $X \subseteq V(G)$ such that $|X| \leq k$ and each component of $G - X$ has at most $k$ vertices in $S$. Then For all $S \subseteq V(G)$ where $|S| \leq 2k+1$ there exists a tree-decomposition of $G$ with width at most $3k$ and there exists a bag containing $S$. 
\end{lemma}
\begin{proof}
	Suppose $|V(G)| \leq 3k + 1$. Then place all of the vertices in a single bag. Then this is a valid tree-decomposition with width at most $3k$ containing all $S$. 
	Now assume $|V(G)| \geq 3k + 2$ and $|S| = 2k + 1$. If $S \leq 2k + 1$, add arbitrary vertices to $S$. Then there exists a subset $X \subseteq V(G)$ such that $|X| \leq k$ and each component of $G - X$ has at most $k$ vertices in $S$. Let the components of $G - X$ be $G_1, G_2, ... G_p$. Then we can do induction on $(G_i, S_i \cup X)$ to have a tree-decomposition of $G_i$ with width at most $3k + 1$. Then for each of the tree-decompositions rooted at the node with bag containing $S_i \cup X$, we add on a parent vertex to all of those tree-decompositions of $X \cup S$ with width at most $3k + 1$.  This is a tree-decomposition of $G$ of width at most $3k + 1$ with the root vertex containing $S$ by definition. 
\end{proof}

\section{Tree-partitions}
\newcommand{\tpw}{\text{tpw}}

For a graph $G$, a \textit{tree-partition} of $G$ is a tree $T$ with associated partition of the vertices of $G$ into bags $ \lbrace B_x : x \in V(T) \rbrace$ such that if $vw$ is an edge in $G$, then $v$ and $w$ are in the same bag, or the edge $xy$ is in $E(T)$, where vertices $x$ and $y$ have corresponding bags $B_x$ and $B_y$ containing $v$ and $w$ respectively. The \textit{width} of the tree-partition is defined as the largest bag in the tree-partition. The tree-partition width of a graph $G$, denoted as $\tpw(G)$, is the smallest width of all tree-partitions. 


\begin{theorem}[Distel + Wood]
	For all graphs $G$, $\tpw(G) \leq 18 (\tw(G) + 1) \Delta(G)$. 
\end{theorem}

\begin{lemma}
	Fix $k$ and $d$. Let $G$ be a graph where $\tw(G) \leq k - 1$ and $\Delta(G) \leq d$. Then for any set $S \subseteq V(G)$ and $4k \leq |S| \leq 12kd$, there exists a tree-partition $\left( B_x : x \in V(T) \right)$ with width at most $18kd$ and bag $B_z$ where $deg_{T}(z) \leq \frac{|S|}{2k} - 1$ and $|B_z| \leq 3/2 |S| - 2k$.
\end{lemma}
\begin{proof}
	
	Case 0: $|V(G)| < 4k$: We place all the vertices in the same bag. Size of bag is $< 4k$, so the bag is definitely less than $18kd$. 
	\par
	Case 1: $|V(G) - S| \leq 18kd$. Let $T$ be the tree on two vertices ${x, z}$, where $B_x = V(G) - S$ and $B_z = S$. Then we have that $\delta(T) = 1$ and $deg_T(z) = 1$, which satisfies the requirements above. We have that $|B_z| \leq 3/2 |s| - 2k$ and $deg_T(z) \leq |S|/2k - 1$. 
	\par
	Case 2: $S$ small case. $4k \leq |S| \leq 12k$. Let $S' := \bigcup \lbrace N_G(v) - S : v \in S \rbrace$. Then $|S'| \leq d |S| \leq 12kd$. If $|S'| < 4k$, then add arbitrary vertices to $S'$ from $G - S - S'$ such that $|S'| = 4k$. Now $4k \leq |S'| \leq 12kd$. By the induction hypothesis, there exists a tree-partition of $G - S$ with width $\leq 18kd$ and $S'$ in one bag. Then we add the bag $B_z = S$ to the tree that is connected only to $S'$. We have that as $4k \leq |S|$, it implies that $|S| \geq 3/2 |S| - 2k$, so $|B_z| \leq 3/2 |S| - 2k$ and $|S| \leq 12k$. Finally, $deg_T(B_z) = 1 \leq |S|/2k - 1$.
	\par
	Case 3: $S$ large case. $12k + 1 \leq |S| \leq 12kd$. There exists induced subgraphs $G_1$, $G_2$ of $G$ where $G_1 \cup G_2 = G$ and $|G_1 \cap G_2| \leq k$, where $|S \cap V (G_i)| \leq 2/3 |S|$ for each $i$ in $\lbrace 1, 2 \rbrace$. Then let $S_i = (S \cap V(G_i)) \cup (G_1 \cap G_2)$ for each $i$ in $\lbrace 1, 2 \rbrace$. We have that $|S_2| \geq |S - V(G_1)| \geq 1/3 |S| \geq 4k$. By symmetry, $|S_1| geq 4l$. For an upper bound, $S_i \leq 2/3 |S| + k \leq 8kd + k \leq 12kd$. Therefore, $4k \leq |S_i| \leq 12kd$ for each $i$ in $\lbrace 1, 2 \rbrace$. Thus by induction, there exists a tree-partition of $G_i$ with width at most $18kd$, such that $\delta(T_i) \leq 6d$ and there is a $z_i$ such that $S_i \in B_{z_i}$, $|B_{z_i}| \leq 3/2 |S_i| - 2k$, $\deg_{T_i}(z_i) \leq |S_i|/2k - 1$. Then form the tree of $G$ by merging $z_1$ and $z_2$ together to form $z$, and let $B_z = B_{z_1} \cup B_{z_2}$. Then this is a tree-partition of $G$. By construction, $S \subseteq B_z$ and $|B_z| \leq |B_{z_1}| + |B_{z_2}| - |G_1 \cap G_2|$. Using the induction hypothesis, this is less than $18kd$, and the degree of $z$ is $|S|/2k - 1 < 6d$. Thus shown.  
\end{proof}

\section{$O(\sqrt{n})$-bounded treewidth}
\newcommand{\ltw}{\textit{ltw}}
A family of graphs $\mathcal{G}$ has $O(\sqrt{n})$ bounded treewidth if, as the number of vertices increases in $\mathcal{G}$, the treewidth is bounded above by a constant times $\sqrt{n}$. Planar graphs, most importantly, have bounded treewidth. 

\subsection{Layered treewidth}
A \textit{layering} of a graph $G$ is a partition of the vertex set of $G$ into sorted sets $V_1, V_2, ..., V_k$ such that for all edges $vw \in E(G)$, if $v \in V_i$ and $w \in V_j$ then $|i - j| \leq 1$. The \textit{layered treewidth number} $\ltw(G)$ is defined as the smallest $k$ such that there exists a layering $V_1, V_2, ...$ of $V(G)$ and there is a tree-decomposition $(B_x: x \in V(T))$ and $|V_i \cap B_x| \leq k$ for all $i$ and all $x$. 

If $G$ is a planar triangulation, and $T$ is a bfs spanning tree, then the vertices ordered by distance from the root $r$ of $T$ is a layering of $G$. Then consider the dual graph $G^*$. Then there exists a spanning tree of $G^*$, $T^*$, such that no edge in $T^*$ crosses over an edge in $T$. Call this spanning tree the cotree of $G$. Then let $\left( B_x: x \in V(T*) \right)$ be bags. For a face $\alpha$, the set of vertices $v_1, v_2, v_3$ on the border of $\alpha$ and the vertices on path in $T$ from $v_i$ to $r$ for all $i$ in $\lbrace 1, 2, 3 \rbrace$ is $B_\alpha$. Every edge is on the border of some face, so every edge is in $T^*$. If $x$ is a vertex, then the subtree containing $x$ goes to all the faces incident with the descendants of $x$, which is connected. Thus this is a tree-decomposition. 
\end{document}
