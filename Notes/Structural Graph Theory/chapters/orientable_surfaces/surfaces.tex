
\section{Surfaces}
In this section, we discuss surfaces. We also introduce some machinery to deal with vortices on surfaces. Surfaces are an ingredient to the Graph Minor Structure Theorem and having a way to bound the number of pages of graphs embedded on a surface is crucial for applying the Graph Minor Structure Theorem to this problem. This section mainly discusses orientable surfaces but some proofs apply to nonorientable surfaces. 
\subsection{Non-planar decomposition}
Suppose we have a graph \(G\) embedded on a surface. We apply Heath and Istrail's planar-nonplanar decomposition~\cite{heathPagenumberGenusGraphs1992} to break up the edges of \(G\) into \(E_p\) and \(E_n\), edges that are planar and nonplanar. If \(F\) is bounded by planar edges, then we can add a vortex to \(F\) with a bounded number of pages. If \(F\) is bounded by some non-planar edges, then we need additional lemmas.
We wish to show this statement:
\begin{theorem}
	Every graph \(G\) of genus \(g\) has a \(11g + 24\)-page book embedding where all faces of $G$ have at most \( 12(g + 1)\) monochromatic paths.
\end{theorem}

Two loops $\gamma_1, \gamma_2$ are homotopy equivalent if there exists a continuous family of loops which takes $\gamma_1$ to $\gamma_2$. 

Consider \(E_n\), the edges not in the planar decomposition. Consider \(F_n\), the faces \(F\) such that there exists an edge \(e\) in \(E_n\) which bounds \(F\). Then we claim that the number of edges that bound \(F\) is bounded. We first need some topological definitions. A loop $\gamma$ is \textit{null-homotopic} if $\gamma$ is homotopy equivalent to a constant loop, and \textit{nontrivial} if this is not the case. A \textit{facial walk} is a sequence of edges \(e_1, \ldots, e_n\) that bound a face such that \(e_i\) is incident to \(e_{i + 1}\) modulo \(n\) for all \(i\). The length of the facial walk is \(n\). We denote a surface without some set of points $A$ as $\Sigma - A$. 

\begin{lemma}\label{lem:orientable_facial_walks}
	Let \(\Sigma \) be a surface of Euler genus \(g\) and let \(x_0\) be a point on the surface. Then let \(L\) be an arbitrary set of nontrivial, non-intersecting loops that start and end at \(x_0\) on \(\Sigma \). Then let \(F_1, \ldots, F_j\) be faces on \(\Sigma - L\), such that each \(F_i\) is homeomorphic to a disk. Let $G$ be the graph with vertex set $\{x_0 \}$ and vertex set $L$. Then the length of the facial walk for all \(F\) is at most \(2g\).
\end{lemma}

Parts of the proof was motivated by a discussion with Corbin Reid. The proof given is a topological one.

\begin{proof}
	Let \(G'\) be the dual multigraph of $G$, where the vertex set is \(F_1, \ldots, F_j\) and the edge set are the loops, where two faces are incident if there is a loop that is touching both faces. Then take a spanning tree \(T\) of \(G'\), and let \(L''\) be the loops in $L$ that cross an edge in \(T\). Let $L'$ be the remaining loops, so $L - L'$. 
	Then consider the surface \(\Sigma - L'\), so the surface $\Sigma - L$ with the loops $L''$ added back in. Now this bounds a face homeomorphic to a disk, call the face \(F_0\). 
	\todo{draw picture!}
	
	This is homeomorphic to a disk using induction. We can treat forming the face $F_0$ as the following operation on the surface $\Sigma - L$ by adding back in the loops in $L''$. Suppose a loop $\gamma$ is on the boundary of two faces $F_i$ and $F_j$, and is in $L''$. Then adding the loop $\gamma$ to $\Sigma$ will maintain the fact that concatenating $F_i$ and $F_j$ is still a disk, as we glue along an edge such that $F_i \cup F_j$ is still $2$-cell. Then as we add back in a tree of loops, then there will be no cycles formed from this operation, and as the tree is spanning, then every face is added to $F_0$. Therefore $F_0$ is homeomorphic to a disk and $F_0$ is the only face on $\Sigma$. 

	Now this graph has one vertex, \(|L'|\) edges, and one face \(F_0\), and is embedded on $G'$. Then by Euler's formula:
	\begin{equation}
		n - m + f = 2 - g
	\end{equation}
	therefore, \(1 - |L'| + 1 = 2 - g\), or that \(|L'| = g\). As every edge is traversed twice on either side on the facial walk, the length of the facial walk is \(2g\).
	Now let us add each edge from \(L''\), one at a time. We shall show that every face after adding all edges from \(L''\) to \(L'\) has a facial walk length of \(\leq 2g\).

	Before adding any edge, we have \(F_0\) has \(\leq 2g\) on the facial walk. Now suppose we have added loops \(\gamma_1, \ldots, \gamma_{i - 1}\), and suppose every face has a facial walk length of \(\leq 2g\).
	Then suppose loop \(\gamma_i\) splits face \(F\) into faces \(F_1\) and \(F_2\). The facial walk length \(|F_1|\) and \(|F_2|\) are at least 2, the sum is \(F + 2\). Then:
	\begin{equation}
		2 + |F_2| \leq |F_1| + |F_2| = |F| + 2 \leq 2g + 2
	\end{equation}
	so \(|F_2| \leq 2g\) and by symmetry so does \(|F_1|\). Thus shown.
\end{proof}
\begin{corollary}\label{corr:orientable_nonplanar_faces}
	Let \(G\) be a graph embedded on a surface \(\Sigma\) with a planar-nonplanar decomposition and let \(F\) be a nonplanar face. Suppose \(G\) has genus \(g\). Then \(F\) transitions between edges on the boundary of $G_p$ and nonplanar edges at most $4g$ times.
\end{corollary}

\begin{proof}
	Contract \(G\) to a point. Then \(F\) has at most \(2g\) edges on its surface, from \cref{lem:orientable_facial_walks}. Every loop that is maintained after contracting $G$ to a point is nontrivial as trivial loops are surface loops.
	Then every nonplanar face alternates between having a planar trace and nonplanar edge at most \(4g\) times.
\end{proof}