\documentclass[]{article}
\usepackage[margin = 1in]{geometry}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[english]{babel}
\usepackage{url}
\usepackage{todonotes}

\usepackage{hyperref}
\usepackage[noabbrev, capitalise]{cleveref}

\usepackage[style = numeric,
isbn=false,
url=false,
eprint = false
]{biblatex}
\renewbibmacro{in:}{}
\DeclareSourcemap{
	\maps[datatype=bibtex]{
		\map{
			\step[fieldset=url, null]
			\step[fieldset=extra, null]
			\step[fieldset=urldate, null]
		}
	}
}

\addbibresource{Book-Embeddings.bib}
% Commands
\newcommand{\tree}{\mathcal{T}}
\newcommand{\tw}{\text{tw}}
\newcommand{\had}{\text{had}}
\newcommand{\pw}{\text{pw}}
\newcommand{\td}{\text{td}}
\newcommand{\pn}{\text{pn}}
% Environments

\newtheorem{theorem}{Theorem}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition}
\newtheorem{example}[theorem]{Example}

\numberwithin{theorem}{section}
\numberwithin{equation}{section}

%opening
\title{Structural Graph theory - Book embeddings}
\author{Eric Luu}

\begin{document}

\maketitle
\section{Introduction}\label{sec:introduction}
The concept of the \textit{pagenumber} of a graph was discovered by Bernhart and Kainen\cite{bernhartBookThicknessGraph1979} in the context of VLSI design and integrated circuitry. A \textit{book-embedding} of a graph is a way to arrange the vertices on the "spine" of a book and arrange the edges on "pages" of a book, or half-planes. The pagenumber of a graph $G$ is the smallest number of pages necessary in a book-embedding of $G$. 
\paragraph{Robertson-Seymour Graph structure theorem}
Robertson and Seymour, in a landmark series of 23 pages, drew a rough characterisation of $K_t$-minor free graphs, among other extremely famous results. They showed that if a graph $G$ does not have $K_t$ as a minor, then the reason is because they can be almost (but not quite) drawn without crossings on a surface with bounded genus. 

The driving question of this report is the following: 
\begin{conjecture}\label{conj:bded_had_pn}
	Given a graph $G$ with no $K_t$ minor, is the pagenumber of $G$ bounded by a function on $t$?
\end{conjecture}
Answering this question will yield a link between the pagenumber of a graph and the global structure of the graph. This report currently lays out the literature related to this question.
\begin{itemize}
	\item \cref{sec:Book Embedding} formally defines a book-embedding and pagenumber of a graph $G$, and describes some cases where the pagenumber is completely defined for a family of graphs $\mathcal{G}$. Additionally, we describe some related graph parameters to pagenumber.
	\item \cref{sec:treewidth} describes treewidth and tree-decompositions, which are important concepts in the graph structure theorem. We formally define treewidth and give the treewidth of some family of graphs. 
	\item \cref{sec:Kt_Minor_Free} describes the graph structure theorem, but we do not discuss the proof.
	\item \cref{sec:BoundedPagenumber} describes some results of graphs with bounded pagenumber. One of the most important results is Yannakakis's proof that planar graphs have pagenumber at most four\cite{yannakakisEmbeddingPlanarGraphs1989}, as well as some other results. 
\end{itemize}

\paragraph{Reader expectations}
The reader is expected to be familiar with graph theory, but not necessarily structural graph theory. For some additional context, we refer you to my previous MTH3000 report.



\section{Book embedding}\label{sec:Book Embedding}
A \textit{book embedding} of a graph $G$ is an arrangement of the vertices of $G$ in an ordered sequence $v_1, v_2, ..., v_n$ and a colouring of the edges of $G$ into partitions such that each edge $v_av_b, v_c v_d$ (where $a < b$ and $c < d$), if they are assigned the same colour, does not have the property that $v_a < v_c < v_b < v_d$ or $v_c < v_a < v_d < v_b$, i.e. the edges $v_a v_b$ and $v_c v_d$ do not cross. Equivalently, we can treat the vertices as lying on the "spine" of a series of half-planes in $\mathbb{R}$ and each edge is drawn on the half plane such that no two edges cross on each sheet. There is also an alternative definition where we think about a \textit{circular ordering} of the vertices rather than a linear ordering, so each vertex lies on a cycle. Then we can view the page-embedding as stacking discs on top of each other such that the edges on each disc is a planar subgraph. We wish to minimise the number of pages used given a particular graph embedding. We refer to the minimum number of pages necessary to draw a graph $G$ in this way as the \textit{page-number} of $G$, or alternatively the \textit{book-thickness}, or \textit{stack-number} of the graph $G$. We denote the page-number of a graph $G$ as $\pn(G)$. Page-numbers were introduced by Bernhart and Kainen \cite{bernhartBookThicknessGraph1979}.

\subsection{Properties of page numbers}\label{ssec:Properties_Of_Pagenumber}
We have that if $H$ is a subgraph of $G$, then $\pn(H)$ is a subgraph of $\pn(G)$. 
\todo{CHECK IF PAGENUMBER IS MINOR-CLOSED}
\subsection{Graphs with bounded page number}\label{ssec:Bounded_Pagenumber}
\begin{lemma}\label{lem:Pagenumber_1}
	A graph $G$ has page-number at most 1 iff $G$ is an outerplanar graph.
\end{lemma}
\begin{proof}
	We can choose an ordering of the vertices $V(G)$ to go anticlockwise around the outer face. Suppose we have two edges $uv$, $xy$ that cross, so that $u < x < v < y$. Then in the original graph embedding, we will have that $uv$ and $xy$ will cross inside the circle, thus $G$ is not outerplanar. 
\end{proof}
\begin{lemma}\label{lem:Pagenumber_2}
	A graph $G$ has pagenumber at most 2 iff $G$ is a subgraph of a planar graph with a Hamiltonian cycle.
\end{lemma}
This is because we can embed the graph on a sphere with the vertices and Hamiltonian cycle on the equator, and the edges forming the interior and exterior edges of the cycle respectively.

\subsection{Pagenumber of other graphs}\label{ssec:Pagenumber_Graphs}
We have that $K_n$ complete graphs can be embedded on $\lceil n/2 \rceil$ pages\cite{bernhartBookThicknessGraph1979}. Therefore for any graph $G$ on $n$ vertices, $\pn(G) \leq \lceil n/2 \rceil$. 

\subsection{Related graph properties}\label{ssec:Related_Properties}

\begin{lemma}[Bound on number of edges \cite{bernhartBookThicknessGraph1979}]\label{lem:Edge_Bound}
	If an $n$-vertex graph $G$ has $\pn(G) = k$, then $G$ has at most $n + k(n-3)$ edges.
\end{lemma}
\begin{proof}
	Given a vertex ordering $v_1 \leq v_2 \leq ... \leq v_n$, we have that the edges $v_i v_i+1$, $v_1 v_n$ (we refer to this cycle as the outer-cycle) can appear on any page. Furthermore we have that there must be at most $n-3$ non outer-cycle edges on each page as the maximum number of edges in an outerplanar graph is $2n - 3$, but we remove the outer cycle (with $n$ edges on the cycle) to have at most $n-3$ edges on each page. Therefore, $m$, the number of edges, satisfies $m \leq n + k (n - 3)$. 
\end{proof}
\begin{theorem}[Chromatic number bound]\label{thm:Colouring_Bound}
	For all graphs $G$, $\chi(G) \leq 2 \pn(G) + 2$.
\end{theorem}
Let $\pn(G) = k$ and suppose $G$ has $n$ vertices and $m$ edges. Then we have that the average degree of $G$, $d(G) = 2m/n$ by the handshaking lemma. But $2m/n \leq 2 \frac{n + k(n-3)}{n} < 2k + 2$. But this implies that $G$ has a vertex of degree $\leq 2k + 1$, and as if $G'$ is a subgraph of $G$, then $G'$ also has $\pn(G') \leq k$, thus $G'$ has a vertex of degree at most $2k + 1$. However, this implies $G$ is $2k + 1$-degenerate, thus $\chi(G) \leq 2k + 2$. 

\subsection{Historical interest}\label{ssec:Pagenumber_History}
Pagenumbers were developed for processor designs, but more recently have been used in bioinformatics and the like. 
The project of finding upper and lower bounds of the pagenumber of planar graphs was started by Bernhart and Kainen when they conjectured that planar graphs had unbounded page-number. However, Buss and Shor\cite{bussPagenumberPlanarGraphs1984} found that the pagenumber of planar graphs was at most 9, and Heath \cite{heathEmbeddingPlanarGraphs1984} found that the pagenumber of planar graphs is at most 7. Yannakakis' devised an algorithm to bound the pagenumber to at most 4 \cite{yannakakisEmbeddingPlanarGraphs1989}. It was conjectured by Yannakakis that there exist planar graphs with pagenumber 4, but only recently were planar graphs found with pagenumber 4\cite{yannakakisPlanarGraphsThat2020}\cite{bekosFourPagesAre2020}. 

\section{Treewidth}\label{sec:treewidth}

\begin{definition}[Tree-decomposition]\label{def:tree-decomposition}
	The tree-decomposition $\tree$ of a graph $G$ is defined as a tree $T$ with associated \textit{bags} $\lbrace B_x : x \in V(T) \rbrace$ such that:
	\begin{itemize}
		\item for all $v \in V(G)$, the subset of vertices $\lbrace x \in V(T): v \in B_x \rbrace$ in $V(T)$ induces a connected subtree in $V(T)$.
		\item For all edges $vw \in E(G)$, there exists a bag $B_x$ such that both $v$ and $w$ are in the bag $B_x$.
	\end{itemize}
\end{definition}
We refer to the vertices of the tree $T$ as \textit{nodes}. 
The \textit{width} of the tree decomposition $\tree$ is defined as $\max \lbrace |B_x| - 1 : x \in V(T) \rbrace$. We define the \textit{treewidth} of a graph $G$ as such:


\begin{definition}\label{def:treewidth}
	The treewidth of a graph $G$, denoted as $\tw(G)$, is defined to be the smallest width for all tree decompositions of the graph $G$.
\end{definition}


\begin{example}\label{ex:treewidth_forest}
	$\tw(G) = 1$ iff $G$ is a forest.
	\begin{lemma}
		If $G$ is a forest, then $\tw(G) = 1$.
	\end{lemma}
	\begin{proof}
		Suppose $G$ is a tree. Root the graph $G$ at the vertex $r$. Then let $T = G$ and $B_x:= \lbrace x, p \rbrace$ where $p$ is the parent of $x$. The bag $B_r$ will just contain $r$. Then all edges $vw$ will be between parent $v$ and child $w$, so it will be in bag $B_w$. Finally, the subgraph induced by vertex $x$ in $T$ will be $x$ and the children of $x$, which is a connected subtree.
		
		If $G$ is a forest, then we perform this operation on every connected component of $G$ and connect the roots to form a new tree. Then this tree is a tree-decomposition. This forms a tree-decomposition of width at most 1. 
	\end{proof}
	\begin{lemma}
		If $\tw(G) = 1$, then $G$ has no cycles.
	\end{lemma}
	\begin{proof}
		If $G$ has a cycle $C$, then the treewidth cannot be 1. This is because if there is a tree decomposition $\tree$ where the size of each bag is at most 2, then as the graph must have every edge, then every edge in $C$ is in separate bags. However, we have that for any vertex $v$ in $C$ to have an induced connected subgraph in $T$, then it follows that the cycle $C$ is also in $T$. Thus $T$ is not a tree, and this is not a valid tree-decomposition. 
	\end{proof}
\end{example}

\begin{lemma}[Helly Property]\label{lem:Helly}
	Let $T_1, ..., T_k$ be subtrees of a tree $T$ such that for every pair of trees, there is a vertex in common. Then there exists a vertex which is common to all trees.
\end{lemma}
\begin{proof}[Helly property]
	If $T_1$, $T_2$ and $T_3$ are subtrees of $T$ such that the vertex sets are pairwise nonempty, then there is a common vertex in all three subtrees. If this is not the case, denote $v_1$ as a vertex in the intersection of $T_1$ and $T_2$, $v_2$ as the vertex in $T_1 \cap T_3$, and $v_3$ as the vertex in $T_2$ and $T_3$. Then there exists a unique path $P$ in $T_1$ from $v_1$ to $v_2$. Choose two vertices $x$ and $y$ on $P$ such that they are disjoint....
\end{proof}

\begin{theorem}[Clique theorem]\label{thm:clique}
	In any tree-decomposition of $G$, for every clique $C$ in $G$, there exists a node $x \in V(T)$ such that $C \subseteq B_x$. 
\end{theorem}

\begin{proof}
	Let $\tree$ be a tree-decomposition. Every vertex $v$ induces a connected subtree in $T$, call it $T_v$. Then for any two vertices $x, y$ in $C$, we have that $T_x$ and $T_y$ must intersect as the edge $xy$ is inside a bag $B_z$ corresponding to a node $z$. Then by the Helly property, there exists a node $v$ such that $C \subseteq B_v$.
\end{proof}

\begin{corollary}\label{cor:complete_tw}
	$\tw(K_n)$ is $n-1$. 
\end{corollary}

\begin{theorem}\label{thm:tw_minor_closure}
	If $H$ is a minor of $G$, then $\tw(H) \leq \tw(G)$. 
\end{theorem}
\begin{proof}[Proof of minor]
	Suppose we have a tree-decomposition $\tree$ of $G$. If we delete an edge in $G$, then $\tree$ remains a valid tree-decomposition. If we delete a vertex $v$, then $\tree$ where we remove $v$ from every bag in $\tree$ is also a valid tree-decomposition. If we contract an edge $vw$, creating a new vertex $u$, then relabeling $v$ and $w$ in all bags to $u$ is a valid tree-decomposition as the induced subtree of $u$ is the union of the induced subtrees of $v$ and $w$, and every neighbor of $v$ or $w$ is a neighbor of $u$. But the edges in the neighborhood do not change. Thus this is a valid tree-decomposition, with width at most the width of $\tree$.
\end{proof}

Recall that an outerplanar graph is a planar graph where there exists a face such that all vertices lie on the boundary of that face. 
\begin{example}\label{ex:tw_outerplanar}
	The treewidth of an outerplanar graph is at most 2.
\end{example}
\begin{proof}[Proof of outerplanar treewidth.]
	Let $G$ be an outerplanar graph, and let $G'$ be the triangulation of $G$. As $G$ is a minor of $G'$, $\tw(G) \leq \tw(G')$. We look at the \textit{weak dual} of $G'$. This is a tree $T$, where every node $v_f$ in $T$ corresponds to a face $f$ in $G'$. Then let $B_{v_f}$ be the bag of the tree-decomposition, where $B_{v_f}$ is the set of vertices on the boundary of the face $f$. Then the tree $T$ with bags $B_{v_f}$ is a valid tree-decomposition of $G'$, where every bag has at most 3 vertices. Thus, $\tw(G) \leq 2$. 
\end{proof}

\subsection{Characteristics of treewidth}\label{ssec:characterising_Treewidth}
\subsubsection{$k$-trees}\label{sssec:k-trees}
We define a $k$-tree inductively. We have that the complete graph $K_k$ is a $k$-tree, and if $G$ is a $k$-tree, then we add a new vertex to $G$ that is adjacent to $k$ vertices that form a clique of size $k$ in $G$ results in a $k$-tree. 
A $k$-tree is a maximal graph with treewidth $k$. $\tw(G) \leq k$ iff $G$ is a subgraph of a $k$-tree. 


\subsubsection{Bounded treewidth graphs}\label{sssec:Graph_treewidth_Bounded}
\begin{theorem}\label{thm:treewidth_clique-minor-free}
	If $\tw(G) \leq k$, then $G$ is $K_{k+2}$-minor-free. 
\end{theorem}
\begin{proof}
	We shall prove the contrapositive: If $K_t$ is a minor of $G$, then $tw(G) \geq t-1$.
	If $K_t$ is a minor of $G$, and $\tw(G) \leq k$, then we have that $\tw(K_t) \leq \tw(G) \leq k$, but $\tw(K_t) = t-1 \leq k$, so $t \leq k + 1$. Thus shown a family of minor-closed which are $K_t$-minor free. 
\end{proof}

\subsection{Historical discussion}\label{ssec:tw_historical}
Treewidth was introduced in \cite{berteleChapterEliminationVariables1972} with applications to dynamic programming under the name "dimension". It was then rediscovered by Halin \cite{halinSfunctionsGraphs1976} before most famously used in \cite{robertsonGraphMinorsIII1984}, which was introduced to prove the graph minor theorem\cite{robertsonGraphMinorsXX2004}.

\begin{theorem}[Graph minor theorem \cite{robertsonGraphMinorsXX2004}]
	Every infinite family of graphs contains two distinct graphs $G$ and $H$ such that $H$ is a minor of $G$.
\end{theorem}


\section{Graph Structure Theorem}\label{sec:Kt_Minor_Free}
What is the structure of $K_t$-minor free graphs? We shall show that we can roughly characterise all $K_t$-minor free graphs as graphs that are products of a series of operations. 
\subsection{Clique-minor-free minor-closed families}\label{ssec:Kt_Minor_Closed_families}
We define $\had(G)$ to be the largest $t$ such that $G$ has a $K_t$ minor. 
\subsubsection{Planar graphs}\label{sssec:K_5-free_Planar}
\begin{theorem}\label{thm:K5_Free_Planar}
	If $G$ is a planar graph, then $G$ is $K_5$-minor-free.
\end{theorem}
\begin{proof}
	If $G$ is planar with $n$ vertices and $m$ edges, then we have that $m \leq 3n -6$. However, we have that $K_5$ has $5$ vertices and $10$edges, but we have that $ 10 > 3 \times 5 - 6$, so $K_5$ is not planar. As the family of planar graphs is minor-closed, then if $G$ is planar, then $K_5$ is minor-free.
\end{proof}

\subsubsection{Genus-g graphs}\label{sssec:Graph_genus}
We define the genus $g$ of a surface $\Sigma$ to be 2 times the number of handles + the number of crosscaps. From topology, we know that the connected sum of the torus $T$ and the projective plane $\mathbb{R}P^2$ is diffeomorphic to the connected sum of three copies of $\mathbb{R}P^2$, thus we can make any surface with crosscaps and handles to be purely crosscaps. Therefore, the Euler characteristic $\chi = 2 - g$ for both orientable and non-orientable surfaces. Note that the genus is defined slightly differently from topology. We do this to allow non-orientable and orientable surfaces to coincide in genus and Euler characteristic.

We define the \textit{genus} of a graph $G$ to be the smallest genus surface $\Sigma$ (note that $\Sigma$ can be orientable or nonorientable). 

\begin{theorem}[Bounded genus]\label{thm:bounded_genus_kt_free}
	If $G$ is a genus $g$ graph, then $G$ is $K_t$-minor free, where $t > \sqrt{6g} + 4$. 
\end{theorem}
This proof mimics the above proof for planarity, but with higher dimensions. 
We can show that if $G$ has genus $g$, then if $G$ has $n$ vertices and $m$ edges, then $n - m + f = \chi = 2-g$, then as each face has at most 3 vertices and each edge is incident to two faces, we have that $f \leq 2m/3$. Therefore, $m \leq 3(n + g - 2)$, and if $K_t$ is embeddable on a genus $g$ graph, then $\binom{t}{2} \leq 3 (t + g - 2)$. Thus $t \leq \sqrt{6g} + 4$. So if a graph has genus $g$, then it is $K_t$-minor-free, where $t > \sqrt{6g} + 4$. 

\subsubsection{Bounded treewidth graphs}\label{sssec:Bded_Tw_graph}
From \cref{thm:bded_treewidth_bded_pagenumber}, the pagenumber of any graph is bounded by the treewidth.

\subsubsection{Apex vertices}\label{sssec:Apex_Vertices}
An apex vertex $v$ is added to a graph $G$ such that it has arbitrary edges. As such, it can simply dominate all other vertices in $G$. Then if $G$ is $K_t$-minor free, $G$ with the apex vertex $v$ is $K_{t+1}$- minor free. 
\subsubsection{Clique-sums}\label{sssec:Clique_Sums}
The \textit{$k$-clique-sum} of two graphs $G$ and $H$, denoted as $G \# H$, is the graph obtained by performing a series of operation on the cliques of $G$ and $H$. We find cliques in $G$ and $H$, $C_G$ and $C_H$ respectively, such that $C_G$ and $C_H$ have size $k$. Then we identify the vertices in $C_G$ and $C_H$ so that $G$ and $H$ are connected to each other on this clique. 

\begin{lemma}
	If $G = G_1 \# G_2$,then $\had(G) = \max(\had(G_1), \had(G_2))$ and $\tw(G) = \max(\tw(G_1), \tw(G_2))$.
\end{lemma}

\begin{example}\label{ex:clique_sum_genus}
	If $G$ is the clique-sum of Euler genus $g$ graphs, then $G$ is $K_{\sqrt{6g} + 5}$-minor-free, but has unbounded genus.
\end{example}

\begin{theorem}[Wagner's theorem\cite{wagnerUeberEigenschaftEbenen1937}]\label{thm:WagnersTheorem}
	If $G$ is $K_5$-minor-free, then $G$ can be obtained from $\leq 3$-clique-sums of planar graphs and the Wagner graph $W_8$.
\end{theorem}


\subsubsection{Torsos and adhesion}\label{sssec:Torsos and Adhesion}
Given a graph $G$ and a tree-decomposition $\tree$, the \textit{torso} of a bag $B_x$ of $T$ is the graph $G\langle B_x \rangle$, obtained from $G[B_x]$ where $vw$ is a vertex in $G\langle B_x \rangle$ iff $v,w \in B_x \cap B_y$, where $y$ is any neighbour of $x$ in $T$. So the set $B_x \cap B_y$ for all neighbours $y$ of $x$ in $T$ is a clique in $G\langle B_x \rangle$. 
The \textit{adhesion} of a tree is defined as $\max(|B_x \cap B_y|)$ where $xy$ is an edge in $T$.

\subsubsection{Vortices}\label{sssec:vortices}
Let $G$ be embedded on a surface $\Sigma$, and let $F$ be a face on $G$. Let $D$ be a disc in $\Sigma$ such that $D$ only intersects $G$ only on vertices on the boundary of $F$. We denote these discs as $G$-clean. 

Then let $\Lambda = (x_1, x_2, ..., x_b)$ be a tuple of vertices on the boundary of $F$ such that they intersect $D$. Then we define a new graph $H$ such that $V(G) \cap V(H) = \Lambda$, and there is a \textit{path-decomposition} of $H$ of bags $B_1, B_2, ... B_b$ such that $x_i \in B_i$ for all $i$. $H$ is denoted as a \textit{$D$-vortex} of $G$. The width of a $D$-vortex is the width of the path above, or $\max_i(|B_i| - 1)$. 

Vortices were created to solve the problem of grid-like graphs with large treewidth, torsos and adhesion, yet are all $K_t$-free for bounded $t$. 
\subsection{Robertson-Seymour Graph Structure theorem\cite{robertsonGraphMinorsXVI2003}}\label{ssec:Robertson_Seymour_Graph_Structure}
Given $g, p, a \geq 0$, $k \geq 1$, a graph $G$ is $(g, p, k, a)$- almost embeddable if there exists an $A \subseteq V(G)$ with $|A| \leq a$, and there exists subgraphs $G_0, G_1, ...,  G_{p'}$ of $G$ such that:
\begin{itemize}
	\item $G - A = G_0 \cup G_1 \cup G_2 ... G_{p'}$
	\item $p' \leq p$
	\item There is an embedding of $G_0$ onto a surface $\Sigma$ of genus $\leq g$
	\item There exists pairwise disjoint $G_0$-clean discs $D_1, D_2, ..., D_{p'}$ in $\Sigma$
	\item $G_i$ is a $D_i$-vortex of width at most $k$.
\end{itemize}

\begin{theorem}[Robertson-Seymour graph structure theorem for $K_t$-minor-free graphs]
	For all $t$, there exists $g, p, a \geq 0$, $k \ell \geq 1$, such that every $K_t$-minor-free graph has a tree-decomposition of adhesion $\leq \ell$ and each torso is $(g, p, k, a)$-embeddable. We refer to the family of graphs which satisfy these constants as $\mathcal{G}(g, p, k, a)$. 
\end{theorem}
In fact, there exists a function $t(g, p, k, a)$ such that if a graph has a tree-decomposition of adhesion $\leq \ell$ and each torso is $(g, p, k, a)$-almost embeddable, then $G$ has no $K_t$ minor. Joret and Wood\cite{joretCompleteGraphMinors2013} found that
\begin{theorem}[Converse of Graph structure theorem\cite{joretCompleteGraphMinors2013}]\label{thm:graph_structure_bound_theorem}
	Let $\had(G)$ be the largest $K_t$ minor in $G$. Then 
	 $\had(G) \leq a + 48(k + 1)\sqrt{g + p} + \sqrt{6g} + 5$. Moreover, there exists an integer $n \geq a + 1 4 k\sqrt{p + g}$ such that $K_n$ is a minor of some $\mathcal{G}(g, p, k, a)$ graph.
\end{theorem}

\section{Bounds of pagenumbers of graphs}\label{sec:BoundedPagenumber}
\begin{theorem}[Heath and Istrail\cite{heathPagenumberGenusGraphs1992}]\label{thm:Genus_pagenumber_bound}
	Let $g$ be the genus of a graph $G$. We have that for all graphs $G$, $\pn(G) \leq O(g)$ for some $g$.
\end{theorem}
Note that this bound extends the one found by Yannakakis \cite{yannakakisEmbeddingPlanarGraphs1989} to graph families of bounded genus. 
The best known bound is $\sqrt{g}$, found by Malitz\cite{malitzGenusGraphsHave1994}.

We additionally have that $\pn(G) \leq \tw(G) + 1$, from \cite{ganleyPagenumberTrees2001}. 
We also have that bounded clique-sums of graphs of bounded treewidth also have bounded path-number.
What is a sticking-point is vortices of graphs on bounded genus, and cliquesums of vortices on bounded genus as well. 
\subsection{Tree-decomposition into bounded page number components}\label{ssec:Clique_sum_Pagenumber_bound}
We denote $G(\mathcal{G}, T)$ as a clique-sum tree, where each vertex $v_i$ in the tree $T$ is a graph $G_i$ in $\mathcal{G}$, and the edge $v_iv_j$ corresponds with the clique sum of graphs $G_i$ and $G_j$. We refer to the stack layout as a tuple $(\leq , \psi)$ where $\leq$ is an ordering of the vertices and $\psi : E(G) \rightarrow X$ assigns to each edge the page. The page number is the smallest set $X$ on which this is defined. 
\begin{theorem}[Hickingbotham and Wood, private communications]\label{thm:clique_sum_pagenumber_bound}
	Let $G(\mathcal{G}, T)$ be a clique-sum tree where $\pn(G_i) \leq s$ for all $G_i \in \mathcal{G}$. Then $\pn(G(\mathcal{G}, T)) \leq 2s^2 + 4s + 1$.  
\end{theorem}

\subsubsection{Proof of above theorem.}
Let $C$ be a clique in $G$ and let $\sigma_C = (u_1, ... , u_k)$ be a vertex ordering of $V(C)$. For any arbitrary clique $J$, we define a rainbow-vertex $w \in V(J)$ as a vertex where for any $x, y \in V(J)$, the edges $wx$ and $wy$ are on different pages. We want the book embedding to have the structure $(\underbrace{u_1, u_2, ..., u_k}_{\text{Vertices in } C}, \underbrace{v_1, v_2, ..., v_l}_{\text{Vertices not in }C})$.

We will use these two results.
\begin{lemma}[Pagenumber]
	If $pn(G) \leq s$, then $G$ does not contain any cliques on more than $2s-1$ vertices, from \cref{thm:treewidth_clique-minor-free}
\end{lemma}

To prove this theorem, we will use a common technique in graph theory. We will strengthen the lemma so that we may use induction to prove the statement.
\begin{lemma}\label{lem:Hickingbotham_Lemma}
	Let $G$ be a graph where $\pn(G) \leq s$, and a clique $C$ with an ordering $\sigma_C$. There exists a $(2s^2 + 4s + 1)$-stack layout $(\leq, \psi)$ of $G$ where:
	\begin{enumerate}
		\item The vertex ordering has the structure $(\underbrace{u_1, u_2, ..., u_k}_{\text{Vertices in } C}, \underbrace{v_1, v_2, ..., v_l}_{\text{Vertices not in }C})$
		\item For every $u \in V(C)$, the edges $\lbrace uv \in E(G) : u \leq v \rbrace$ are in a single page with no other edges on it
		\item For every clique $J$, the last vertex of $J$ is a rainbow-vertex. 
	\end{enumerate}
\end{lemma}
\begin{proof}[Proof of \cref{lem:Hickingbotham_Lemma}]
	Let $(\leq_a, \psi_a)$ be a $s$-stack layout of $G$ and let $\rho: V(G) \rightarrow \lbrace 1, 2, ..., 2s + 2 \rbrace$ be a proper colouring of $V(G)$. This colouring exists because of \cref{thm:Colouring_Bound}.

Let $u_1, ..., u_k$ be the vertices of $C$ ordered by $\sigma_C$. Note that $k \leq 2s + 1$. Then the new ordering starts with $u_1 \leq u_2 \leq ..., \leq u_k$, and all vertices not in $K$ are placed after, according to $\leq_a$.
Then the stack assignment $\psi$ is now defined. For every edge $u_i v$ where $u_i \in V(C)$ and $u_i \leq v$, define $u_i v = i$. Otherwise, if neither $u$ or $v$ are in $V(C)$, and $u \leq v$, then let $\psi(uv) = (\rho(u), \psi_a(uv))$. Then we have at most $|\rho| |\psi_a| + k \leq (2s + 2) s + (2s + 1) = 2s^2 + 4s + 1$ pages.

We shall show that $(\leq, \psi)$ is a proper book-embedding. Suppose we have a pair of edges $uv$ and $xy$ which cross, and $\phi(uv) = \phi(xy)$. Suppose that $u$ is the smallest vertex in the ordering $\leq$. If $u \in V(C)$, then the edge $uv$ is assigned to its own page, meaning that it cannot cross $xy$. So $x = u$, but we can draw $uv$ and $uy$ on a single page. Thus they do not cross. Therefore we have that $u, v, x, y$ are not in $V(C)$, and as we preserve the original book-embedding, then these edges do not cross. Thus shown.
We have that property 1 and 2 are immediate. For property 3, consider a clique $J$ in $G$. Then we must show the last vertex of $J$ is rainbow. Suppose the last vertex of $J$ is $w$, and let $u, v$ be earlier vertices. Since $u$ and $v$ necessarily are assigned different colours in the colouring, then $\psi(uw) = (\rho(u), \psi_a(uw))$ and $\psi(vw) = (\rho(v), \psi_a(vw))$. Therefore, the two edges are on different pages. Thus $w$ is a rainbow vertex. 
\end{proof}

\subsubsection{Full proof}
\begin{theorem}
	Suppose $G = G(\mathcal{G}, T)$ be the clique-sum tree, with vertices $G_0, G_1, ..., G_k$, and for all $i \in \lbrace 0, 1, ..., k \rbrace$, we have that $\pn(G) \leq s$. Then there is a book-embedding of $G$ with pagenumber of at most $2s^2 + 4s + 1$. 
\end{theorem}

\begin{proof}
	To prove the statement, we shall prove the stronger statement that there exists a book-embedding with the properties described with the lemma above using induction. In particular, we will have that the last vertex of any clique $J$ is a rainbow vertex.
	
	Suppose $k = 0$. Then $G_0$ is a single graph with $\pn(G) \leq s$. Then by the lemma above, there is a book-embedding with pagenumber at most $2s^2 + 4s + 1$ with the property that it starts with $K$ and every last vertex in a clique is a rainbow vertex.
	
	Suppose $k = n$. Let $C$ be the clique between $G_n$ and the rest of $G$, where $G_n$ is a leaf of the tree $T$. Denote the induced subgraph $G[V(G) - V(G_n - C)]$ as $G'$. Then let $(\leq_n, \psi_n)$ be the $2s^2 + 4s + 1$-page-number book-embedding of $G_n$ that starts with $V(C)$, and let $\sigma_C$ be the ordering of $V(C)$ by $\leq_n$. Let $(\leq_{n-1}, \psi_{n-1})$ be the stack-embedding of $G'$. By induction, this has a $2s^2 + 4s + 1)$ book-embedding with the properties described above.
	
	\paragraph{Construction  of new book-embedding}
	Let $w \in V(K)$ be the last vertex of $K$ with respect to $\leq_{n-1}$. Then insert $V(G_n - C)$ between $w$ and its successor in the order of $\leq_{n}$. For the page assignment $\psi$, we have that if $uv \in E(G')$, then $\psi(uv) = \psi_{n-1}(uv)$. For the remaining edges, we can permute the edge assignments of $\psi_n$ such that for all $u \in V(K)$, we have that $\psi(E_u) = \psi_n(uw)$. We can do this as $w$ is a rainbow vertex and the edges $E_u$ are assigned to a unique page in $\psi_n$. Finally, let $\psi(uv) = \psi_n(uv)$ for the remainder of the edges. Denote the new ordering and assignment as $(\leq, \psi)$. 
	
	We claim that $(\leq , \psi)$ is a stack layout that satisfies the induction hypothesis. Suppose that $\psi(uv) = \psi(xy)$. If $uv, xy \in E(G')$, then by the induction hypothesis, they do not cross. Similarly, if $uv, xy \in E(G_n)$, then they will not cross, by the above lemma. If $uv$ is in $E(G')$ and $xy \in E(G_n)$, then they will go over each other or be sequential and therefore will not cross. 
	Finally, if $u, v, x, y \in C$, then by the induction hypothesis on $G'$, they do not cross either. The final case is if $uv \in E(G_{i + 1})$ and $u \in V(C)$, $v \notin V(C)$, $xy \in E(G')$. If $uv$ and $xy$ cross, then we have that $xy$ and $uw$ will cross. But this will contradict the page-embedding of $G'$.
	
	Let $J$ be a clique in $G$, and $w$ is its final vertex. Then if $J$ is in $G'$, then $w$ is a rainbow-vertex. Otherwise, the last vertex is contained in $G_n$. By the above lemma, $w$ must also be a rainbow vertex. Thus shown.
\end{proof}


\subsection{Bounded treewidth and page number}\label{ssec:Bounded_Treewidth}
\begin{theorem}[Ganley + Heath\cite{ganleyPagenumberTrees2001}]\label{thm:bded_treewidth_bded_pagenumber}
	Every graph $G$ with $\tw(G) \leq k$ has $\pn(G) \leq k + 1$. 
\end{theorem}

We use the characterisation of treewidth as a subgraph of a $k$-tree. We will show that all $k$-trees have pagenumber at most $k + 1$, which suffices to show the above theorem.

\begin{theorem}
	If $G$ is a $k$-tree, then $\pn(G) \leq k + 1$. 
\end{theorem}
\begin{proof}
	Consider a tree-decomposition of $G$, $\tree = (B, T)$, and perform a depth-first search on $T$, starting at an arbitrary root $r$. Let the ordering of the book-embedding $\sigma(v)$ of a vertex $v$ in $V(G)$ be determined by the first time $x \in T$ appears, where $v \in B_x$. For the vertices in the root bag $B_r$, we order arbitrarily. By the definition of a $k$-tree, only one vertex will be added in the depth-first search. Now consider the subtree $T_v$ induced by the bags $B_x$ containing $v$. We now consider colouring the subtrees $T_v$ for all $v \in G$ such that no overlapping subtrees have the same colour. Let $H$ be the intersection graph of the subtrees, where $V(H) = \lbrace T_v : v \in G \rbrace$ and $T_u T_v \in E(H)$ if there exists a bag $B_x$ such that $u, b \in B_x$. We have that $H$ is perfect, and thus $\chi(H) = \omega(H)$. Since $|B_x| = k + 1$ for all $x \in V(T)$, then there is a clique of size $k + 1$ in $H$. If there is a clique in $H$ with more than $k+ 1$ vertices, then this implies that there exists some $B_x$ such that $|B_x| > k + 1$. Thus $\chi(H) = k + 1$. 
	\paragraph{}
	We now use this to assign the edges of $G$ a page. Let $c(T_v)$ be the colour assigned to $T_v$. Colour each edge $uv \in E(G)$ as follows:
	\begin{equation}
		c(uv) = 
		\begin{cases}
			c(T_u) &\text{ if } \sigma(u) \leq \sigma(v),\\
			c(T_v) &\text{ if } \sigma(v) \leq \sigma(u)
		\end{cases}
	\end{equation}
	Then we claim that this is a proper book-embedding of $G$. Suppose we have that edges $uv$, $xy$ cross, so $\sigma(u) \leq \sigma(x) \leq \sigma(v) \leq \sigma(y)$. However, this implies that there exists a bag $B$ such that $u, x, v \in B$, as we have that $uv$ is an edge in $B$ and we do a depth-first search to establish the ordering, meaning that $u, v, x$ are in a clique. Therefore, they are in the same bags. However, this implies that the trees $T_u$ and $T_x$ intersect, meaning that $c(uv) \neq c(xy)$. Finally, the number of pages used is $\chi(H) = k + 1$, so $\pn(G) \leq k + 1$. Thus shown.
\end{proof}

\subsection{Planar graphs}\label{ssec:Planar_Graphs}
\begin{theorem}[Embedding planar graphs \cite{yannakakisEmbeddingPlanarGraphs1989}] \label{thm:4Pages_Planar}
	Planar graphs can be embedded on at most four pages.
\end{theorem}
The proof of this will be shown below.
\subsubsection{Yannakakis' Algorithm, \cite{yannakakisEmbeddingPlanarGraphs1989}}\label{ssec:Yannakakis_Alg}
\todo{Do later}


\subsection{Bounded genus}
It was shown by Heath and Istrail that the family of graphs of bounded genus have bounded page-number. 
We refer to the "layout" of the graph as the book-embedding of the graph and "embedding" as the surface-embedding. We refer to orientable surfaces as genus $g$ as a sphere with $g$ handles, and a nonorientable surface of genus $g$ as a sphere with $g$ cross-caps. We define the orientable genus of a graph $G$, denoted $\gamma(G)$, as the minimum orientable surface genus that $G$ can be embedded on. The nonorientable genus of a graph $G$, denoted $\tilde{\gamma}(G)$, is the minimum nonorientable genus surface that $G$ can be embedded on. Mohar\cite{moharOrientableGenusGraphs1998} claims that $\tilde{\gamma}(G) \leq 2 \gamma(G) + 1$ for all graphs, meaning that if the orientable genus is bounded, then the non-orientable genus is bounded. Note that, Auslander et al.\cite{auslanderImbeddingGraphsManifolds1963} showed that there exists graphs which are embeddable on the projective plane who has arbitrarily large orientable genus. 
\paragraph{Proof}
We say that the embedding is $2$-cell if every face is homeomorphic to an open disc in $\mathbb{R}^2$. Any embedding of $G$ onto an orientable surface is a 2-cell embedding, but this does not hold for nonorientable surfaces, but we assume there exists a $2$-cell embedding.
Heath and Istrail rely on decomposing the graph $G$ of genus $\gamma(G)$ into a planar spanning subgraph $G_p$ of $G$ such that:
\begin{enumerate}
	\item The edges in $E(G) - E(G_p)$ attach to the boundary vertices of $V(G_p)$. 
	\item Adding an edge from $E(G) - E(G_p)$ to $G_p$ breaks the above condition. 
\end{enumerate}
To talk about graphs embedded in surfaces, we assign to each face a cyclic permutation $\sigma_v$ which represents the sequence of vertices encountered when traversing the boundary of a face in counterclockwise order.

This is enough to represent any graph in an orientable surface, but not enough for a non-orientable surface. We have to attach on an orientation to each edge, where each edge is either orientation-preserving or orientation-reversing. 

We have that a planar-nonplanar decomposition of $G$ is a triple $(R, G_P, E_N)$ where $R$ is a rotation of $G$ representing the surface embedding on the surface $S$, $G$ is a spanning planar graph, and $E_N = E - E(G_P)$. 
This satisfies a list of properties:
\begin{enumerate}
	\item The subrotation induces a planar embedding of $G_p$, so we can arrange $G$ on the surface $S$ such that the embedding of $G_p$ is planar. 
	\item For each $vw \in E_N$, we have that $v$ and $w$ live on the outerface $F_0$.
	\item $E(G_P)$ is maximal, so we cannot add edges from $E_N$ to $G_P$ without breaking properties 1 and 2. 
\end{enumerate}

We can then form a directed cycle $C_0$ induced by $F_0$. Each vertex on the boundary of $F_0$ appears at least once, and twice if it is an articulation point, and each edge on the boundary of $F_0$ is encountered at least once on this cycle. Heath and Istrail refer to a directed subpath of the cycle $C_0$ as a trace, so trace $T = v_1 \rightarrow v_2 \rightarrow ... \rightarrow v_t$. The inverse trace is $T^{-1} = v_t \rightarrow v_{t-1} \rightarrow ... \rightarrow v_1$. We now wish to partition $E_N$ into equivalence classes. Suppose that $u_1v_1, u_2v_2 \in E_N$ are part of the boundary of the same face $F$ on the embedding of $G$. Then $u_1v_1$ and $u_2v_2$ are homotopic (with respect to $F$) if:
\begin{enumerate}
	\item $u_1v_1$ and $u_2v_2$ are the only edges of $E_N$ on the boundary of $F$
	\item There exist traces $T_u = u_1 \rightarrow ... \rightarrow u_2$ and $T_v = v_1 \rightarrow ... \rightarrow v_2$ such that $T_u$ and $T_v$ are on the boundary of $F$.
\end{enumerate}
We may think of $G_n$ as living on a locally flat part of $S$ and the homotopy class $u_1v_1$ and $u_2 v_2$ living on a handle (alternatively, passing through a crosscap) of the surface such that if we take $G_n$ to a point, there exists a homotopy from $u_1v_1$ to $u_2v_2$. These form equivalence classes of the vertices.

\begin{lemma}
	If $C$ is a homotopy class of edges $u_1v_1, ..., u_kv_k$ with a natural order, then we can build traces $T_1$ and $T_2$ by building the trace from $u_1$ to $u_k$ passing through all $u_i$, and $v_1$ to $v_k$ passing through all $v_i$. 
\end{lemma}
We refer to a homotopy class as orientable if $T_1$ and $T_2$ go in opposite directions, and non-orientable if $T_1$ and $T_2$ go in the same direction.

\begin{lemma}
	We have that if $G$ is embedded in an orientable surface, then every homotopy class is orientable.
\end{lemma}
\begin{proof}[Sketch]
	We have that if a homotopy class is non-orientable, then on the handle the class sits on, the edges must cross. However, we have the graph is embedded on the surface, therefore this cannot happen. Thus shown. 
\end{proof}

\begin{lemma}
	If $G$ is $2$-cell embedded on an orientable surface of genus $g$, then any planar-nonplanar decomposition has at most $6g-3$ homotopy classes. 
\end{lemma}
\begin{proof}
	Decompose $G$ to a $(R, G_P, E_N)$ decomposition of $G$. Suppose $E_N \neq \emptyset$. Then identify $G_P$ to a single point, and identify each homotopy class to a single edge. Then draw a circle around the point $G_P$, and place vertices where the circle intersects all edges. Then delete the vertex $G_P$, and call the new graph $H$. We have that $n = |V(H)|$, $m = |E(H)|$, $h$ is the number of homotopy classes, and $f$ is the number of faces. We have that $v - e + f = 2 - 2g$. Since $H$ is cubic as every vertex has two edges on the circle and one on the homotopy class, then $3v = 2e$ by the handshaking lemma. Since there is only one nonplanar edge for each homotopy class, $v = 2h$. The interior face of $H$ has $v$ incident edges, and the remaining $f-1$ faces have at least 6 incident edges each, as we can identify the two homotopy classes bordering a face with four edges together. Therefore, we have that $6(f-1) + v \leq 2e$, by double counting faces and edges. Thus, we have that $6g - e \geq v/2 = h$ by manipulating the inequalities. 
\end{proof}

\begin{lemma}
	If $G$ is $2$-cell embedded on an non-orientable surface of genus $g$, then any planar-nonplanar decomposition has at most $3g-3$ homotopy classes. 
\end{lemma}
\begin{proof}[Similar to above]
	Use Euler's identity $v - e + f = 2-g$. 
\end{proof}

\begin{lemma}\label{lem:planar_nonplanar_orientable}
	Suppose $G$ has a planar-nonplanar decomposition $(R, G_P, E_N)$ on an orientable surface $\Sigma$. Then $G$ can be embedded on at most $18g - 5$ pages.
\end{lemma}
\begin{proof}
	We use Yannikakis' algorithm to lay out the nonplanar spanning subgraph $G_P$ on four pages, maintaining the cyclic order of vertices. Then we can combine each blocks to form a 4 page layout of the graph. For each homotopy class in $E_P$, we allocate three pages. One page is for vertices in the same block, and the other two ages are used for edges between blocks, the biconnected components of $G$. Therefore, we need at most $4 + 3(6g - 3) = 18g-5$ pages if $G$ has a planar-nonplanar decomposition. 
\end{proof}

\begin{lemma}\label{lem:planar_nonplanar_nonorientable}
	Suppose $G$ has a planar-nonplanar decomposition $(R, G_P, E_N)$ on an non-orientable surface $\Sigma$. Then $G$ can be embedded on at most $9g - 1$ pages.
\end{lemma}
\begin{proof}
\todo{	content...}
\end{proof}

\subsubsection{Decomposing graphs on surfaces}\label{sssec:Planar_nonplanar_decomp}
We first have to know that the planar-nonplanar decomposition exists. 

Suppose $G$ is embedded on an surface $\Sigma$. Then we wish to triangulate $G$ to form $G_T$. We choose a single triangle as the starting point and we add traces to the planar part incrementally. At each step, we set $G_P$ to be the current planar part and $E_N$ as the edges that are outside the planar part. There are two types of edges in $E_N$: edges which have both endpoints in $V(G_P)$, so cannot become edges of $G_P$, and edges that have either one or no endpoints in $V(G_P)$. 

For a current boundary of the outerface of $G_P$, if $v_i \rightarrow v_j \rightarrow v_k$ is trace with no edge of $E_N$ incident to $v_j$, then $v_iv_k \in E(G_T)$ is called a safe edge. If $v_i \rightarrow v_j$ is on the boundary of $G_P$, and $v_k \notin V(G_P)$, and $v_i,v_j,v_k$ is the boundary of a face, then $v_k$ is a safe vertex and we can add it to $G_P$. 

If no $v_k$ exists, then we find a $w'$ which is the newest vertex in $V(G_P)$ adjacent to a vertex not in $V(G_P)$. We have that there exists a triangle $x, w', z)$ on the boundary of $G_P$. Then we have that $z$ is unsafe and $xz$ and $w'z$ are essentially nonplanar. Then we let $w'w$ be the edge such that $w$ is not in $V(G_P)$ and we let $(w', y)$ be the next nonplanar edge encountered. 
\todo{Add pictures! this proof needs lots of pictures}

\printbibliography
\end{document}
