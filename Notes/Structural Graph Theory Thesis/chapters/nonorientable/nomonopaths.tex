\section{Book-embeddings and paths}

We conjecture the following:

\begin{conjecture}\label{conj:fsk_be}
	Let $G$ be a graph and let $(B_1, \ldots, B_n)$ be a path-decomposition of $G$ of width $k$. Let $P$ be a path $(x_1, \ldots, x_b)$ where $x_i \in B_i$. 

	Given an $s$-page book-embedding $(<, \psi)$ of $P$, there exists an $f(s, k)$ book-embedding of $G$ that preserves the given book-embedding of $P$.
\end{conjecture}

If \cref{conj:fsk_be} holds, then it implies the following:

\begin{corollary}\label{corr:fsk_be}
	Let $G$ be a graph, where $G = G_0 \cup G_1 \cup \ldots \cup G_p$. $G_0$ is embedded on a surface $\Sigma$ with Euler genus $g$, and $G_i$ is a vortex on $G_0$ on a face $F_i$ of width $k$. If every graph embedded on $\Sigma$ has a book-embedding on $s$ pages, there exists a $p f$ book-embedding of $G$, where $f = f(s, k)$.
\end{corollary}

\begin{proof}
	Let $D_i$ be the $G$-clean disk on $F_i$ on which $G_i$ sits. Add chords to $F_i$ that do not cross $D_i$ so that the boundary of $F_i$ is a cycle $C_i$. Let $\Lambda_i= (x_1, \ldots, x_n)$ be the circular ordering of the vertices $D_i \cap F_i$, so the path-decomposition $(B_1, \ldots , B_n)$ is rooted on $\Lambda_i$. Extend this path-decomposition from $\Lambda_i$ to $C_i$ by adding copies of bags to every vertex in $C_i$ not in $\Lambda_i$.

	Go along $C_i$, starting at $x_1$. If a vertex $u_j$ is encountered in $C_i$ that is not in $\Lambda_i$, insert a copy of the previous bag rooted at $u_{j-1}$ and add $u_j$ to $\Lambda_i$ after $u_{j-1}$.
	
	Then the path-decomposition is on a path which starts at $x_1$ and goes around $C_i$.  
	This graph $G'$ is embedded on a surface $\Sigma$, so can be embedded on $s$ pages. From \cref{conj:fsk_be}, $G_i$ can be embedded on $f(s, k)$ pages without changing the order of the vertices on $C_i$.

	Then repeat for every vortex. The number of pages needed to embed every vortex is $p f$ where $f = f(s, k)$. 
\end{proof}

This implies \cref{conj:bded_had_pn} in the case when $\Sigma$ is an orientable surface or projective plane, through \cref{thm:apex_vertices_pagenumber} and \cref{thm:gmst}. 

However, this is incorrect. Let $G$ be a graph with a path $(x_1, \ldots, x_{16})$ and book-embedding $x_1 x_5 x_9, \ldots, x_{16}, x_{12}, x_{8}, x_{4}$, as in \cref{fig:counterexample_2}.

\begin{figure}[h!]
	\centering
	\includesvg[pretex = \tiny, width = 0.7\textwidth]{figures/counterexample2.svg}
	\caption[Counterexample to bounded number of colours]{A graph $G$ with a path $x_1, \ldots, x_{16}$ and a given embedding $x_1 x_5 x_9, \ldots, x_{16}, x_{12}, x_{8}, x_{4}$. Then we can force edges between bags to pairwise cross, breaking the condition that there are a bounded number of pages to embed this book.}\label{fig:counterexample_2}
\end{figure}


However, the following proposition holds. Let $P$ be a path. A \textit{$k$-perturbation} of $P$ is an operation that partitions $P$ into subpaths $P_1, \ldots, P_n$ and for every $P_i$, $k$ vertices are moved to the front of $P_i$. 

\begin{proposition}\label{prop:k-perturbation}
	Let $G$ be a graph with a path $P = (P_1, P_2, \ldots, P_m)$ such that $P_i = (x_{i,1}, x_{i,2}, \ldots, x_{i, n_{i}})$ is a subpath of $P$. Suppose further $G$ has a path-decomposition \[(B_{1,1}, B_{1,2}, \ldots, B_{1,n_{1}}, \ldots, B_{m, n_{m}})\] such that $x_{i,j} \in B_{i,j}$ and $|B_{i,j}| \leq k$. Given any $\ell$-perturbation $P'$ of $P$, there is a $(k + 1 + \ell)$-page book-embedding of $G$ respecting $P'$.
\end{proposition}

\begin{proof}
	Let $A_i$ be the set of vertices moved to the front of $P_i$, and let $D_i$ to be the set of vertices that are not moved in $P_i$. Then $P' = A_1 D_1 A_2 D_2 \ldots A_m D_m$. 
	Let $v$ be a vertex in $G$ and let $h(v)$ be the first bag encountered in the path-decomposition that contains $v$.
	Let $C_{i,j} = \{v \in V(G): h(v) = (i,j)\}$. Place $C_{i,j}$ after the vertex $x_{i,j}$ in $P'$ to form the linear ordering $<$.

	Let a new path-decomposition of $G$ be \[B_{1,1} \cup A_1, B_{1,2} \cup A_1, \ldots B_{1, n_1} \cup A_1, B_{2,1} \cup A_2, \ldots, B_{2,n_2} \cup A_2.\] Then this is a real path-decomposition of $A_i$. Now $h(x)$ for $x \in A_i$ is ${i, 1}$. Place all the vertices in $h(x)$ at the very start of the book-embedding. Using \cref{thm:pw_book_embedding}, there is a book-embedding of $G$ on $(k + 1 + \ell)$ pages while respecting $P'$. 

\end{proof}

Let $G$ be a plane graph and let $F$ be a face on $G$. Suppose $F$ is rooted at a torso $R$. Let $H$ be the graph with vertex set the torsos on the boundary of $F$, ignoring $R$ and two torsos $J, K$ are connected if $V(J) \cap V(K) \neq \emptyset$. Then the depth of $F$ is the size of the largest connected component of $F$. 
\begin{figure}
	\centering
	\includesvg[width = 0.7\textwidth]{figures/face_depth.svg}
	\caption[Face of depth 3]{An example of a face of depth 3. Surrounding this face is the root torso, which is 4-connected. On the boundary of the face are 4-connected torsos with a cutset of size 3. The deepest a single cutset is, is 3 cutsets deep. Therefore, the face has depth 3 with respect to the outer root torso.}\label{fig:face_depth}
\end{figure}

\begin{proposition}
	Suppose $G = G_0 \cup G_1$. $G_0$ is embedded on a surface, $G_1$ is a vortex of width $\ell$ embedded on a face $F$ of depth $k$ with respect to a root $R$. If $G_0$ can be embedded on $s$ pages, then $G$ can be embedded on $(3k + s + \ell + 1)$ pages.
\end{proposition}

\begin{proof}
	Let $S$ be the walk around the face $F$, and let $C$ be a cycle around the face $F$. $C$ does not intersect the $G$-clean disk that $G_1$ is on. Break $C$ into subpaths that contain a single connected component of $3$-connected torsos. Then each subpath will have at most $3k$ vertices that are moved to the very front, and since each subpath do not share a vertex, these subpaths are disjoint. $3k$ vertices are moved to the very start in the book-embedding. This is a $3k$-perturbation of $C$. By \cref{prop:k-perturbation}, $G_1$ can be embedded on $(3k + s + \ell + 1)$ pages. 
\end{proof}